---
import Layout from '../../layouts/layout.astro';
import Form from '../../components/form.astro';
//const res = await fetch (`${Astro.url}api/noco.json`);
//const data = await res.json();

const pages = [
  {
    sesi: 'sm',
    waktu: '18.30 - 21.00',
  },
  {
    sesi: 'ss',
    waktu: '15.00 - 17.30',
  },
  {
    sesi: 'ff',
    waktu: '15.00 - 21.00',
  }
];

const { sesi } = Astro.params;
const { undangan } = Astro.params;
const page = pages.find((page) => page.sesi === sesi);
if (!page) return Astro.redirect("/404");
const { waktu } = page;

---
<Layout>
  <Fragment slot="slot-undangan">
    {undangan}
  </Fragment>
  <Fragment slot="slot-waktu">
    {waktu}
  </Fragment>
</Layout>

<!--<Form/>-->
<!--<script>-->
<!--  const namaU = document.getElementById("nama-undangan");-->
<!--  const nama = namaU.textContent;-->
<!--  try {-->
<!--    window.atob(nama);-->
<!--  }-->
<!--  catch(err) {-->
<!--    const namaEnc = window.btoa(nama);-->
<!--    document.getElementById("web-wrapper").classList.add("hidden");-->
<!--  }-->
<!--  const namaEnc = window.atob(nama);-->
<!--  namaU.textContent = namaEnc;-->
<!--  console.log(namaEnc);-->
<!--</script>-->
<!---->
